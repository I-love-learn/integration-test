import{aF as ve,aQ as X,L as Q,B as se,R as pe,N as ye,aT as P,D as be,at as Ce,ai as J,bH as Ee,aI as le,bp as ee,z as j,aJ as ge,aK as Te,bI as Se,aH as we,b7 as F,af as Z,ag as V,m as H,d as z,O as S,x as Le,bi as Ae,M as oe,n as I,o as R,c as G,a as K,al as w,u as o,t as Me,i as k,aa as q,ac as De,f as ke,b as x,$ as ae,am as re,bJ as he,aB as ie,bk as Ie,y as Be,bC as te,s as h,C as Ne,bK as Oe,by as ne,ar as Re,T as $e,X as Ye,a9 as _e,aR as ze,Y as He,Z as Ke,bL as Ue,an as Ve}from"./index_entryDaa7LKVB.js";import{u as Xe}from"./index_chunk3.js";import{F as Fe,i as Ge,E as We}from"./focus-trap_chunk.js";import{c as Pe,d as je,u as qe}from"./el-button_chunk.js";import{g as xe}from"./scroll_chunk.js";const Je=(...e)=>t=>{e.forEach(n=>{ve(n)?n(t):n.value=t})};var U=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(U||{});const W=e=>{const t=X(e)?e:[e],n=[];return t.forEach(a=>{var l;X(a)?n.push(...W(a)):Q(a)&&X(a.children)?n.push(...W(a.children)):(n.push(a),Q(a)&&((l=a.component)!=null&&l.subTree)&&n.push(...W(a.component.subTree)))}),n},Ze=(e,t,n,a)=>{let l={offsetX:0,offsetY:0};const d=m=>{const c=m.clientX,p=m.clientY,{offsetX:y,offsetY:E}=l,f=e.value.getBoundingClientRect(),u=f.left,T=f.top,B=f.width,$=f.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-u+y,O=-T+E,L=N-u-B+y,A=Y-T-$+E,g=s=>{let v=y+s.clientX-c,b=E+s.clientY-p;a!=null&&a.value||(v=Math.min(Math.max(v,_),L),b=Math.min(Math.max(b,O),A)),l={offsetX:v,offsetY:b},e.value&&(e.value.style.transform=`translate(${P(v)}, ${P(b)})`)},M=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",M)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",d)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",d)};se(()=>{pe(()=>{n.value?i():r()})}),ye(()=>{r()})},Qe=(e,t={})=>{be(e)||Ce("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||J("popup"),a=Ee(()=>n.bm("parent","hidden"));if(!le||ee(document.body,a.value))return;let l=0,d=!1,i="0";const r=()=>{setTimeout(()=>{we(document==null?void 0:document.body,a.value),d&&document&&(document.body.style.width=i)},200)};j(e,m=>{if(!m){r();return}d=!ee(document.body,a.value),d&&(i=document.body.style.width),l=xe(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=ge(document.body,"overflowY");l>0&&(c||p==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`),Te(document.body,a.value)}),Se(()=>r())},ue=e=>{if(!e)return{onClick:F,onMousedown:F,onMouseup:F};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},eo=Z({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=H({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:n}){const a=J(to),l=m=>{n("click",m)},{onClick:d,onMousedown:i,onMouseup:r}=ue(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:r},[S(t,"default")],U.STYLE|U.CLASS|U.PROPS,["onClick","onMouseup","onMousedown"]):Le("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const so=no,de=Symbol("dialogInjectionKey"),ce=Z({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ae},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=["aria-level"],ro=["aria-label"],io=["id"],uo=H({name:"ElDialogContent"}),co=H({...uo,props:ce,emits:lo,setup(e){const t=e,{t:n}=Xe(),{Close:a}=he,{dialogRef:l,headerRef:d,bodyId:i,ns:r,style:m}=oe(de),{focusTrapRef:c}=oe(Fe),p=I(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",t.draggable),r.is("align-center",t.alignCenter),{[r.m("center")]:t.center}]),y=Je(c,l),E=I(()=>t.draggable),f=I(()=>t.overflow);return Ze(l,d,E,f),(u,T)=>(R(),G("div",{ref:o(y),class:w(o(p)),style:ae(o(m)),tabindex:"-1"},[K("header",{ref_key:"headerRef",ref:d,class:w([o(r).e("header"),{"show-close":u.showClose}])},[S(u.$slots,"header",{},()=>[K("span",{role:"heading","aria-level":u.ariaLevel,class:w(o(r).e("title"))},Me(u.title),11,ao)]),u.showClose?(R(),G("button",{key:0,"aria-label":o(n)("el.dialog.close"),class:w(o(r).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=B=>u.$emit("close"))},[z(o(ke),{class:w(o(r).e("close"))},{default:k(()=>[(R(),q(De(u.closeIcon||o(a))))]),_:1},8,["class"])],10,ro)):x("v-if",!0)],2),K("div",{id:o(i),class:w(o(r).e("body"))},[S(u.$slots,"default")],10,io),u.$slots.footer?(R(),G("footer",{key:0,class:w(o(r).e("footer"))},[S(u.$slots,"footer")],2)):x("v-if",!0)],6))}});var fo=re(co,[["__file","dialog-content.vue"]]);const mo=Z({...ce,appendToBody:Boolean,appendTo:{type:V(String),default:"body"},beforeClose:{type:V(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),vo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Ie(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var n;const l=Be().emit,{nextZIndex:d}=Pe();let i="";const r=te(),m=te(),c=h(!1),p=h(!1),y=h(!1),E=h((n=e.zIndex)!=null?n:d());let f,u;const T=je("namespace",Oe),B=I(()=>{const C={},D=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(C[`${D}-margin-top`]=e.top),e.width&&(C[`${D}-width`]=P(e.width))),C}),$=I(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function Y(){l("closed"),l(ie,!1),e.destroyOnClose&&(y.value=!1)}function _(){l("close")}function O(){u==null||u(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=ne(()=>M(),e.openDelay):M()}function L(){f==null||f(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=ne(()=>s(),e.closeDelay):s()}function A(){function C(D){D||(p.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(C):L()}function g(){e.closeOnClickModal&&A()}function M(){le&&(c.value=!0)}function s(){c.value=!1}function v(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function fe(C){var D;((D=C.detail)==null?void 0:D.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Qe(c);function me(){e.closeOnPressEscape&&A()}return j(()=>e.modelValue,C=>{C?(p.value=!1,O(),y.value=!0,E.value=Ge(e.zIndex)?d():E.value++,Ne(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&L()}),j(()=>e.fullscreen,C=>{t.value&&(C?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),se(()=>{e.modelValue&&(c.value=!0,y.value=!0,O())}),{afterEnter:N,afterLeave:Y,beforeLeave:_,handleClose:A,onModalClick:g,close:L,doClose:s,onOpenAutoFocus:v,onCloseAutoFocus:b,onCloseRequested:me,onFocusoutPrevented:fe,titleId:r,bodyId:m,closed:p,style:B,overlayDialogStyle:$,rendered:y,visible:c,zIndex:E}},yo=["aria-label","aria-labelledby","aria-describedby"],bo=H({name:"ElDialog",inheritAttrs:!1}),Co=H({...bo,props:mo,emits:vo,setup(e,{expose:t}){const n=e,a=Re();qe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},I(()=>!!a.title));const l=J("dialog"),d=h(),i=h(),r=h(),{visible:m,titleId:c,bodyId:p,style:y,overlayDialogStyle:E,rendered:f,zIndex:u,afterEnter:T,afterLeave:B,beforeLeave:$,handleClose:N,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:L,onFocusoutPrevented:A}=po(n,d);$e(de,{dialogRef:d,headerRef:i,bodyId:p,ns:l,rendered:f,style:y});const g=ue(Y),M=I(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:r}),(s,v)=>(R(),q(Ue,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[z(Ke,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(B),onBeforeLeave:o($),persisted:""},{default:k(()=>[Ye(z(o(so),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(u)},{default:k(()=>[K("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(p),class:w(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(E)),onClick:v[0]||(v[0]=(...b)=>o(g).onClick&&o(g).onClick(...b)),onMousedown:v[1]||(v[1]=(...b)=>o(g).onMousedown&&o(g).onMousedown(...b)),onMouseup:v[2]||(v[2]=(...b)=>o(g).onMouseup&&o(g).onMouseup(...b))},[z(o(We),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(A),onReleaseRequested:o(L)},{default:k(()=>[o(f)?(R(),q(fo,_e({key:0,ref_key:"dialogContentRef",ref:r},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(M),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(N)}),ze({header:k(()=>[s.$slots.title?S(s.$slots,"title",{key:1}):S(s.$slots,"header",{key:0,close:o(N),titleId:o(c),titleClass:o(l).e("title")})]),default:k(()=>[S(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:k(()=>[S(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[He,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Eo=re(Co,[["__file","dialog.vue"]]);const Ao=Ve(Eo);export{Ao as E,W as f};
