import{a1 as ve,ax as G,j as Q,G as se,aG as pe,aZ as ye,aB as j,aa as be,t as Ce,v as x,bX as Ee,a6 as le,bu as ee,x as q,a7 as ge,a8 as Te,bY as Se,a5 as we,bc as K,k as J,l as V,n as H,d as z,N as S,a2 as Ae,bn as Le,q as oe,F as B,o as $,c as F,a as U,A as w,u as o,af as Me,e as h,i as P,al as De,I as he,b as Z,B as ae,C as re,bZ as ke,U as ie,bp as Be,p as Ie,bA as te,h as k,y as Ne,b_ as Oe,bU as ne,S as $e,M as Re,X as Ye,aA as _e,ay as ze,Y as He,a4 as Ue,b$ as Xe,Z as Ve}from"./index_entry_VD3msBPp.js";import{u as Ge}from"./index_chunk2.js";import{F as Ke,i as Fe,E as We}from"./focus-trap_chunk.js";import{u as je}from"./index_chunk3.js";import{c as qe,u as Pe}from"./el-button_chunk.js";import{g as Ze}from"./scroll_chunk.js";const xe=(...e)=>t=>{e.forEach(n=>{ve(n)?n(t):n.value=t})};var X=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(X||{});const W=e=>{const t=G(e)?e:[e],n=[];return t.forEach(a=>{var l;G(a)?n.push(...W(a)):Q(a)&&G(a.children)?n.push(...W(a.children)):(n.push(a),Q(a)&&((l=a.component)!=null&&l.subTree)&&n.push(...W(a.component.subTree)))}),n},Je=(e,t,n,a)=>{let l={offsetX:0,offsetY:0};const d=m=>{const c=m.clientX,p=m.clientY,{offsetX:y,offsetY:E}=l,f=e.value.getBoundingClientRect(),u=f.left,T=f.top,I=f.width,R=f.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-u+y,O=-T+E,A=N-u-I+y,L=Y-T-R+E,g=s=>{let v=y+s.clientX-c,b=E+s.clientY-p;a?.value||(v=Math.min(Math.max(v,_),A),b=Math.min(Math.max(b,O),L)),l={offsetX:v,offsetY:b},e.value&&(e.value.style.transform=`translate(${j(v)}, ${j(b)})`)},M=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",M)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",d)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",d)};se(()=>{pe(()=>{n.value?i():r()})}),ye(()=>{r()})},Qe=(e,t={})=>{be(e)||Ce("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||x("popup"),a=Ee(()=>n.bm("parent","hidden"));if(!le||ee(document.body,a.value))return;let l=0,d=!1,i="0";const r=()=>{setTimeout(()=>{we(document?.body,a.value),d&&document&&(document.body.style.width=i)},200)};q(e,m=>{if(!m){r();return}d=!ee(document.body,a.value),d&&(i=document.body.style.width),l=Ze(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=ge(document.body,"overflowY");l>0&&(c||p==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`),Te(document.body,a.value)}),Se(()=>r())},ue=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},eo=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=H({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:n}){const a=x(to),l=m=>{n("click",m)},{onClick:d,onMousedown:i,onMouseup:r}=ue(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:r},[S(t,"default")],X.STYLE|X.CLASS|X.PROPS,["onClick","onMouseup","onMousedown"]):Ae("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const so=no,de=Symbol("dialogInjectionKey"),ce=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Le},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=["aria-level"],ro=["aria-label"],io=["id"],uo=H({name:"ElDialogContent"}),co=H({...uo,props:ce,emits:lo,setup(e){const t=e,{t:n}=Ge(),{Close:a}=ke,{dialogRef:l,headerRef:d,bodyId:i,ns:r,style:m}=oe(de),{focusTrapRef:c}=oe(Ke),p=B(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",t.draggable),r.is("align-center",t.alignCenter),{[r.m("center")]:t.center}]),y=xe(c,l),E=B(()=>t.draggable),f=B(()=>t.overflow);return Je(l,d,E,f),(u,T)=>($(),F("div",{ref:o(y),class:w(o(p)),style:ae(o(m)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:w([o(r).e("header"),{"show-close":u.showClose}])},[S(u.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":u.ariaLevel,class:w(o(r).e("title"))},Me(u.title),11,ao)]),u.showClose?($(),F("button",{key:0,"aria-label":o(n)("el.dialog.close"),class:w(o(r).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=I=>u.$emit("close"))},[z(o(he),{class:w(o(r).e("close"))},{default:h(()=>[($(),P(De(u.closeIcon||o(a))))]),_:1},8,["class"])],10,ro)):Z("v-if",!0)],2),U("div",{id:o(i),class:w(o(r).e("body"))},[S(u.$slots,"default")],10,io),u.$slots.footer?($(),F("footer",{key:0,class:w(o(r).e("footer"))},[S(u.$slots,"footer")],2)):Z("v-if",!0)],6))}});var fo=re(co,[["__file","dialog-content.vue"]]);const mo=J({...ce,appendToBody:Boolean,appendTo:{type:V(String),default:"body"},beforeClose:{type:V(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),vo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var n;const l=Ie().emit,{nextZIndex:d}=je();let i="";const r=te(),m=te(),c=k(!1),p=k(!1),y=k(!1),E=k((n=e.zIndex)!=null?n:d());let f,u;const T=qe("namespace",Oe),I=B(()=>{const C={},D=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(C[`${D}-margin-top`]=e.top),e.width&&(C[`${D}-width`]=j(e.width))),C}),R=B(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function Y(){l("closed"),l(ie,!1),e.destroyOnClose&&(y.value=!1)}function _(){l("close")}function O(){u?.(),f?.(),e.openDelay&&e.openDelay>0?{stop:f}=ne(()=>M(),e.openDelay):M()}function A(){f?.(),u?.(),e.closeDelay&&e.closeDelay>0?{stop:u}=ne(()=>s(),e.closeDelay):s()}function L(){function C(D){D||(p.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(C):A()}function g(){e.closeOnClickModal&&L()}function M(){le&&(c.value=!0)}function s(){c.value=!1}function v(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function fe(C){var D;((D=C.detail)==null?void 0:D.focusReason)==="pointer"&&C.preventDefault()}e.lockScroll&&Qe(c);function me(){e.closeOnPressEscape&&L()}return q(()=>e.modelValue,C=>{C?(p.value=!1,O(),y.value=!0,E.value=Fe(e.zIndex)?d():E.value++,Ne(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&A()}),q(()=>e.fullscreen,C=>{t.value&&(C?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),se(()=>{e.modelValue&&(c.value=!0,y.value=!0,O())}),{afterEnter:N,afterLeave:Y,beforeLeave:_,handleClose:L,onModalClick:g,close:A,doClose:s,onOpenAutoFocus:v,onCloseAutoFocus:b,onCloseRequested:me,onFocusoutPrevented:fe,titleId:r,bodyId:m,closed:p,style:I,overlayDialogStyle:R,rendered:y,visible:c,zIndex:E}},yo=["aria-label","aria-labelledby","aria-describedby"],bo=H({name:"ElDialog",inheritAttrs:!1}),Co=H({...bo,props:mo,emits:vo,setup(e,{expose:t}){const n=e,a=$e();Pe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},B(()=>!!a.title));const l=x("dialog"),d=k(),i=k(),r=k(),{visible:m,titleId:c,bodyId:p,style:y,overlayDialogStyle:E,rendered:f,zIndex:u,afterEnter:T,afterLeave:I,beforeLeave:R,handleClose:N,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:A,onFocusoutPrevented:L}=po(n,d);Re(de,{dialogRef:d,headerRef:i,bodyId:p,ns:l,rendered:f,style:y});const g=ue(Y),M=B(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:r}),(s,v)=>($(),P(Xe,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[z(Ue,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(I),onBeforeLeave:o(R),persisted:""},{default:h(()=>[Ye(z(o(so),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(u)},{default:h(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(p),class:w(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(E)),onClick:v[0]||(v[0]=(...b)=>o(g).onClick&&o(g).onClick(...b)),onMousedown:v[1]||(v[1]=(...b)=>o(g).onMousedown&&o(g).onMousedown(...b)),onMouseup:v[2]||(v[2]=(...b)=>o(g).onMouseup&&o(g).onMouseup(...b))},[z(o(We),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(L),onReleaseRequested:o(A)},{default:h(()=>[o(f)?($(),P(fo,_e({key:0,ref_key:"dialogContentRef",ref:r},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(M),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(N)}),ze({header:h(()=>[s.$slots.title?S(s.$slots,"title",{key:1}):S(s.$slots,"header",{key:0,close:o(N),titleId:o(c),titleClass:o(l).e("title")})]),default:h(()=>[S(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:h(()=>[S(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Z("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[He,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Eo=re(Co,[["__file","dialog.vue"]]);const Mo=Ve(Eo);export{Mo as E,W as f};
