import{aJ as me,aU as X,Y as Q,s as se,a2 as pe,$ as ye,aX as W,S as be,ax as Ee,u as Z,bK as Ce,aM as le,bs as ee,P as j,aN as ge,aO as Te,bL as Se,aL as we,ba as F,e as J,ao as K,f as H,v as z,r as S,N as Le,bl as Me,Z as oe,g as B,o as R,c as G,a as U,n as w,h as o,t as Ae,x as D,j as q,k as ke,G as De,l as x,y as ae,m as re,bM as he,aF as ie,bn as Be,O as Ie,bF as te,q as h,R as Ne,bN as Oe,bB as ne,av as Re,a4 as $e,a8 as Ye,ak as _e,aV as ze,a9 as He,aa as Ue,bO as Ve,p as Ke}from"./index_entry_aK93-D-V.js";import{u as Xe}from"./index_chunk2.js";import{F as Fe,i as Ge,E as Pe}from"./focus-trap_chunk.js";import{c as We,d as je,u as qe}from"./el-button_chunk.js";import{g as xe}from"./scroll_chunk.js";const Ze=(...e)=>t=>{e.forEach(n=>{me(n)?n(t):n.value=t})};var V=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(V||{});const P=e=>{const t=X(e)?e:[e],n=[];return t.forEach(a=>{var l;X(a)?n.push(...P(a)):Q(a)&&X(a.children)?n.push(...P(a.children)):(n.push(a),Q(a)&&((l=a.component)!=null&&l.subTree)&&n.push(...P(a.component.subTree)))}),n},Je=(e,t,n,a)=>{let l={offsetX:0,offsetY:0};const d=v=>{const c=v.clientX,p=v.clientY,{offsetX:y,offsetY:C}=l,f=e.value.getBoundingClientRect(),u=f.left,T=f.top,I=f.width,$=f.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-u+y,O=-T+C,L=N-u-I+y,M=Y-T-$+C,g=s=>{let m=y+s.clientX-c,b=C+s.clientY-p;a?.value||(m=Math.min(Math.max(m,_),L),b=Math.min(Math.max(b,O),M)),l={offsetX:m,offsetY:b},e.value&&(e.value.style.transform=`translate(${W(m)}, ${W(b)})`)},A=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",A)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",d)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",d)};se(()=>{pe(()=>{n.value?i():r()})}),ye(()=>{r()})},Qe=(e,t={})=>{be(e)||Ee("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Z("popup"),a=Ce(()=>n.bm("parent","hidden"));if(!le||ee(document.body,a.value))return;let l=0,d=!1,i="0";const r=()=>{setTimeout(()=>{we(document?.body,a.value),d&&document&&(document.body.style.width=i)},200)};j(e,v=>{if(!v){r();return}d=!ee(document.body,a.value),d&&(i=document.body.style.width),l=xe(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=ge(document.body,"overflowY");l>0&&(c||p==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`),Te(document.body,a.value)}),Se(()=>r())},ue=e=>{if(!e)return{onClick:F,onMousedown:F,onMouseup:F};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},eo=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:K([String,Array,Object])},zIndex:{type:K([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=H({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:n}){const a=Z(to),l=v=>{n("click",v)},{onClick:d,onMousedown:i,onMouseup:r}=ue(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:r},[S(t,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):Le("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const so=no,de=Symbol("dialogInjectionKey"),ce=J({center:Boolean,alignCenter:Boolean,closeIcon:{type:Me},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=["aria-level"],ro=["aria-label"],io=["id"],uo=H({name:"ElDialogContent"}),co=H({...uo,props:ce,emits:lo,setup(e){const t=e,{t:n}=Xe(),{Close:a}=he,{dialogRef:l,headerRef:d,bodyId:i,ns:r,style:v}=oe(de),{focusTrapRef:c}=oe(Fe),p=B(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",t.draggable),r.is("align-center",t.alignCenter),{[r.m("center")]:t.center}]),y=Ze(c,l),C=B(()=>t.draggable),f=B(()=>t.overflow);return Je(l,d,C,f),(u,T)=>(R(),G("div",{ref:o(y),class:w(o(p)),style:ae(o(v)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:w([o(r).e("header"),{"show-close":u.showClose}])},[S(u.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":u.ariaLevel,class:w(o(r).e("title"))},Ae(u.title),11,ao)]),u.showClose?(R(),G("button",{key:0,"aria-label":o(n)("el.dialog.close"),class:w(o(r).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=I=>u.$emit("close"))},[z(o(De),{class:w(o(r).e("close"))},{default:D(()=>[(R(),q(ke(u.closeIcon||o(a))))]),_:1},8,["class"])],10,ro)):x("v-if",!0)],2),U("div",{id:o(i),class:w(o(r).e("body"))},[S(u.$slots,"default")],10,io),u.$slots.footer?(R(),G("footer",{key:0,class:w(o(r).e("footer"))},[S(u.$slots,"footer")],2)):x("v-if",!0)],6))}});var fo=re(co,[["__file","dialog-content.vue"]]);const vo=J({...ce,appendToBody:Boolean,appendTo:{type:K(String),default:"body"},beforeClose:{type:K(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),mo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Be(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var n;const l=Ie().emit,{nextZIndex:d}=We();let i="";const r=te(),v=te(),c=h(!1),p=h(!1),y=h(!1),C=h((n=e.zIndex)!=null?n:d());let f,u;const T=je("namespace",Oe),I=B(()=>{const E={},k=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(E[`${k}-margin-top`]=e.top),e.width&&(E[`${k}-width`]=W(e.width))),E}),$=B(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function Y(){l("closed"),l(ie,!1),e.destroyOnClose&&(y.value=!1)}function _(){l("close")}function O(){u?.(),f?.(),e.openDelay&&e.openDelay>0?{stop:f}=ne(()=>A(),e.openDelay):A()}function L(){f?.(),u?.(),e.closeDelay&&e.closeDelay>0?{stop:u}=ne(()=>s(),e.closeDelay):s()}function M(){function E(k){k||(p.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(E):L()}function g(){e.closeOnClickModal&&M()}function A(){le&&(c.value=!0)}function s(){c.value=!1}function m(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function fe(E){var k;((k=E.detail)==null?void 0:k.focusReason)==="pointer"&&E.preventDefault()}e.lockScroll&&Qe(c);function ve(){e.closeOnPressEscape&&M()}return j(()=>e.modelValue,E=>{E?(p.value=!1,O(),y.value=!0,C.value=Ge(e.zIndex)?d():C.value++,Ne(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&L()}),j(()=>e.fullscreen,E=>{t.value&&(E?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),se(()=>{e.modelValue&&(c.value=!0,y.value=!0,O())}),{afterEnter:N,afterLeave:Y,beforeLeave:_,handleClose:M,onModalClick:g,close:L,doClose:s,onOpenAutoFocus:m,onCloseAutoFocus:b,onCloseRequested:ve,onFocusoutPrevented:fe,titleId:r,bodyId:v,closed:p,style:I,overlayDialogStyle:$,rendered:y,visible:c,zIndex:C}},yo=["aria-label","aria-labelledby","aria-describedby"],bo=H({name:"ElDialog",inheritAttrs:!1}),Eo=H({...bo,props:vo,emits:mo,setup(e,{expose:t}){const n=e,a=Re();qe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},B(()=>!!a.title));const l=Z("dialog"),d=h(),i=h(),r=h(),{visible:v,titleId:c,bodyId:p,style:y,overlayDialogStyle:C,rendered:f,zIndex:u,afterEnter:T,afterLeave:I,beforeLeave:$,handleClose:N,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:L,onFocusoutPrevented:M}=po(n,d);$e(de,{dialogRef:d,headerRef:i,bodyId:p,ns:l,rendered:f,style:y});const g=ue(Y),A=B(()=>n.draggable&&!n.fullscreen);return t({visible:v,dialogContentRef:r}),(s,m)=>(R(),q(Ve,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[z(Ue,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(I),onBeforeLeave:o($),persisted:""},{default:D(()=>[Ye(z(o(so),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(u)},{default:D(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(p),class:w(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(C)),onClick:m[0]||(m[0]=(...b)=>o(g).onClick&&o(g).onClick(...b)),onMousedown:m[1]||(m[1]=(...b)=>o(g).onMousedown&&o(g).onMousedown(...b)),onMouseup:m[2]||(m[2]=(...b)=>o(g).onMouseup&&o(g).onMouseup(...b))},[z(o(Pe),{loop:"",trapped:o(v),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(M),onReleaseRequested:o(L)},{default:D(()=>[o(f)?(R(),q(fo,_e({key:0,ref_key:"dialogContentRef",ref:r},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(A),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(N)}),ze({header:D(()=>[s.$slots.title?S(s.$slots,"title",{key:1}):S(s.$slots,"header",{key:0,close:o(N),titleId:o(c),titleClass:o(l).e("title")})]),default:D(()=>[S(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:D(()=>[S(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[He,o(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Co=re(Eo,[["__file","dialog.vue"]]);const Mo=Ke(Co);export{Mo as E,P as f};
