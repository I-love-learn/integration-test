import{aL as ve,aW as K,$ as J,s as se,a4 as pe,a1 as ye,aZ as W,U as be,az as Ee,u as Z,bL as Ce,aO as le,bs as ee,R as q,aP as ge,aQ as Te,bM as Se,aN as we,bc as G,e as Q,aq as X,f as H,v as z,r as S,P as Le,bn as Ae,a0 as oe,g as I,o as R,c as P,a as U,n as w,h as o,t as Me,x as h,j,k as De,G as he,l as x,y as ae,m as re,bN as ke,aH as ie,bD as Ie,Q as Be,bF as te,q as k,T as Ne,bO as Oe,by as ne,ax as Re,a6 as $e,aa as Ye,am as _e,aX as ze,ab as He,ac as Ue,bP as Ve,p as Xe}from"./index_entry_Cd3FXi8V.js";import{u as Ke}from"./index_chunk2.js";import{F as Ge,i as Pe,E as Fe}from"./focus-trap_chunk.js";import{u as We}from"./index_chunk3.js";import{c as qe,u as je}from"./el-button_chunk.js";import{g as xe}from"./scroll_chunk.js";const Ze=(...e)=>t=>{e.forEach(n=>{ve(n)?n(t):n.value=t})};var V=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(V||{});const F=e=>{const t=K(e)?e:[e],n=[];return t.forEach(a=>{var l;K(a)?n.push(...F(a)):J(a)&&K(a.children)?n.push(...F(a.children)):(n.push(a),J(a)&&((l=a.component)!=null&&l.subTree)&&n.push(...F(a.component.subTree)))}),n},Qe=(e,t,n,a)=>{let l={offsetX:0,offsetY:0};const d=m=>{const c=m.clientX,p=m.clientY,{offsetX:y,offsetY:C}=l,f=e.value.getBoundingClientRect(),u=f.left,T=f.top,B=f.width,$=f.height,N=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,_=-u+y,O=-T+C,L=N-u-B+y,A=Y-T-$+C,g=s=>{let v=y+s.clientX-c,b=C+s.clientY-p;a?.value||(v=Math.min(Math.max(v,_),L),b=Math.min(Math.max(b,O),A)),l={offsetX:v,offsetY:b},e.value&&(e.value.style.transform=`translate(${W(v)}, ${W(b)})`)},M=()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",g),document.addEventListener("mouseup",M)},i=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",d)},r=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",d)};se(()=>{pe(()=>{n.value?i():r()})}),ye(()=>{r()})},Je=(e,t={})=>{be(e)||Ee("[useLockscreen]","You need to pass a ref param to this function");const n=t.ns||Z("popup"),a=Ce(()=>n.bm("parent","hidden"));if(!le||ee(document.body,a.value))return;let l=0,d=!1,i="0";const r=()=>{setTimeout(()=>{we(document?.body,a.value),d&&document&&(document.body.style.width=i)},200)};q(e,m=>{if(!m){r();return}d=!ee(document.body,a.value),d&&(i=document.body.style.width),l=xe(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,p=ge(document.body,"overflowY");l>0&&(c||p==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`),Te(document.body,a.value)}),Se(()=>r())},ue=e=>{if(!e)return{onClick:G,onMousedown:G,onMouseup:G};let t=!1,n=!1;return{onClick:i=>{t&&n&&e(i),t=n=!1},onMousedown:i=>{t=i.target===i.currentTarget},onMouseup:i=>{n=i.target===i.currentTarget}}},eo=Q({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:X([String,Array,Object])},zIndex:{type:X([String,Number])}}),oo={click:e=>e instanceof MouseEvent},to="overlay";var no=H({name:"ElOverlay",props:eo,emits:oo,setup(e,{slots:t,emit:n}){const a=Z(to),l=m=>{n("click",m)},{onClick:d,onMousedown:i,onMouseup:r}=ue(e.customMaskEvent?void 0:l);return()=>e.mask?z("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:r},[S(t,"default")],V.STYLE|V.CLASS|V.PROPS,["onClick","onMouseup","onMousedown"]):Le("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[S(t,"default")])}});const so=no,de=Symbol("dialogInjectionKey"),ce=Q({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ae},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),lo={close:()=>!0},ao=["aria-level"],ro=["aria-label"],io=["id"],uo=H({name:"ElDialogContent"}),co=H({...uo,props:ce,emits:lo,setup(e){const t=e,{t:n}=Ke(),{Close:a}=ke,{dialogRef:l,headerRef:d,bodyId:i,ns:r,style:m}=oe(de),{focusTrapRef:c}=oe(Ge),p=I(()=>[r.b(),r.is("fullscreen",t.fullscreen),r.is("draggable",t.draggable),r.is("align-center",t.alignCenter),{[r.m("center")]:t.center}]),y=Ze(c,l),C=I(()=>t.draggable),f=I(()=>t.overflow);return Qe(l,d,C,f),(u,T)=>(R(),P("div",{ref:o(y),class:w(o(p)),style:ae(o(m)),tabindex:"-1"},[U("header",{ref_key:"headerRef",ref:d,class:w([o(r).e("header"),{"show-close":u.showClose}])},[S(u.$slots,"header",{},()=>[U("span",{role:"heading","aria-level":u.ariaLevel,class:w(o(r).e("title"))},Me(u.title),11,ao)]),u.showClose?(R(),P("button",{key:0,"aria-label":o(n)("el.dialog.close"),class:w(o(r).e("headerbtn")),type:"button",onClick:T[0]||(T[0]=B=>u.$emit("close"))},[z(o(he),{class:w(o(r).e("close"))},{default:h(()=>[(R(),j(De(u.closeIcon||o(a))))]),_:1},8,["class"])],10,ro)):x("v-if",!0)],2),U("div",{id:o(i),class:w(o(r).e("body"))},[S(u.$slots,"default")],10,io),u.$slots.footer?(R(),P("footer",{key:0,class:w(o(r).e("footer"))},[S(u.$slots,"footer")],2)):x("v-if",!0)],6))}});var fo=re(co,[["__file","dialog-content.vue"]]);const mo=Q({...ce,appendToBody:Boolean,appendTo:{type:X(String),default:"body"},beforeClose:{type:X(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),vo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ie]:e=>Ie(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},po=(e,t)=>{var n;const l=Be().emit,{nextZIndex:d}=We();let i="";const r=te(),m=te(),c=k(!1),p=k(!1),y=k(!1),C=k((n=e.zIndex)!=null?n:d());let f,u;const T=qe("namespace",Oe),B=I(()=>{const E={},D=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(E[`${D}-margin-top`]=e.top),e.width&&(E[`${D}-width`]=W(e.width))),E}),$=I(()=>e.alignCenter?{display:"flex"}:{});function N(){l("opened")}function Y(){l("closed"),l(ie,!1),e.destroyOnClose&&(y.value=!1)}function _(){l("close")}function O(){u?.(),f?.(),e.openDelay&&e.openDelay>0?{stop:f}=ne(()=>M(),e.openDelay):M()}function L(){f?.(),u?.(),e.closeDelay&&e.closeDelay>0?{stop:u}=ne(()=>s(),e.closeDelay):s()}function A(){function E(D){D||(p.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(E):L()}function g(){e.closeOnClickModal&&A()}function M(){le&&(c.value=!0)}function s(){c.value=!1}function v(){l("openAutoFocus")}function b(){l("closeAutoFocus")}function fe(E){var D;((D=E.detail)==null?void 0:D.focusReason)==="pointer"&&E.preventDefault()}e.lockScroll&&Je(c);function me(){e.closeOnPressEscape&&A()}return q(()=>e.modelValue,E=>{E?(p.value=!1,O(),y.value=!0,C.value=Pe(e.zIndex)?d():C.value++,Ne(()=>{l("open"),t.value&&(t.value.scrollTop=0)})):c.value&&L()}),q(()=>e.fullscreen,E=>{t.value&&(E?(i=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=i)}),se(()=>{e.modelValue&&(c.value=!0,y.value=!0,O())}),{afterEnter:N,afterLeave:Y,beforeLeave:_,handleClose:A,onModalClick:g,close:L,doClose:s,onOpenAutoFocus:v,onCloseAutoFocus:b,onCloseRequested:me,onFocusoutPrevented:fe,titleId:r,bodyId:m,closed:p,style:B,overlayDialogStyle:$,rendered:y,visible:c,zIndex:C}},yo=["aria-label","aria-labelledby","aria-describedby"],bo=H({name:"ElDialog",inheritAttrs:!1}),Eo=H({...bo,props:mo,emits:vo,setup(e,{expose:t}){const n=e,a=Re();je({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},I(()=>!!a.title));const l=Z("dialog"),d=k(),i=k(),r=k(),{visible:m,titleId:c,bodyId:p,style:y,overlayDialogStyle:C,rendered:f,zIndex:u,afterEnter:T,afterLeave:B,beforeLeave:$,handleClose:N,onModalClick:Y,onOpenAutoFocus:_,onCloseAutoFocus:O,onCloseRequested:L,onFocusoutPrevented:A}=po(n,d);$e(de,{dialogRef:d,headerRef:i,bodyId:p,ns:l,rendered:f,style:y});const g=ue(Y),M=I(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:r}),(s,v)=>(R(),j(Ve,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[z(Ue,{name:"dialog-fade",onAfterEnter:o(T),onAfterLeave:o(B),onBeforeLeave:o($),persisted:""},{default:h(()=>[Ye(z(o(so),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":o(u)},{default:h(()=>[U("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:o(c),"aria-describedby":o(p),class:w(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(C)),onClick:v[0]||(v[0]=(...b)=>o(g).onClick&&o(g).onClick(...b)),onMousedown:v[1]||(v[1]=(...b)=>o(g).onMousedown&&o(g).onMousedown(...b)),onMouseup:v[2]||(v[2]=(...b)=>o(g).onMouseup&&o(g).onMouseup(...b))},[z(o(Fe),{loop:"",trapped:o(m),"focus-start-el":"container",onFocusAfterTrapped:o(_),onFocusAfterReleased:o(O),onFocusoutPrevented:o(A),onReleaseRequested:o(L)},{default:h(()=>[o(f)?(R(),j(fo,_e({key:0,ref_key:"dialogContentRef",ref:r},s.$attrs,{center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:o(M),overflow:s.overflow,fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:o(N)}),ze({header:h(()=>[s.$slots.title?S(s.$slots,"title",{key:1}):S(s.$slots,"header",{key:0,close:o(N),titleId:o(c),titleClass:o(l).e("title")})]),default:h(()=>[S(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:h(()=>[S(s.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[He,o(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Co=re(Eo,[["__file","dialog.vue"]]);const Mo=Xe(Co);export{Mo as E,F as f};
