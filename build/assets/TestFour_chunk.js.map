{"version":3,"file":"TestFour_chunk.js","sources":["../../src/views/TestFour.vue"],"sourcesContent":["<script setup>\r\nconst count = ref(1)\r\nconst count2 = ref(2)\r\n// 在计算属性中修改属性 不会重新计算 V3 和v2一样\r\n// 但如果后续外部修改了 computed的依赖 会导致计算属性重新计算 并且由于内部也修改了依赖 会导致计算属性会额外再执行一次\r\nnextTick(() => {\r\n  console.log(\"tick执行\")\r\n})\r\nPromise.resolve()\r\n  .then(() => {\r\n    console.log(\"微任务执行\") // 他们的执行都在微任务之前\r\n  })\r\n  .then(() => {\r\n    console.log(\"微任务执行2\")\r\n  })\r\nnextTick(() => {\r\n  console.log(\"tick执行\")\r\n})\r\n// v3的tick执行在微任务之后\r\nconst comp = computed(\r\n  () => {\r\n    console.log(\"我被读取\")\r\n    count.value++\r\n    return count.value + count2.value\r\n  },\r\n  {\r\n    onTrack(effect) {\r\n      console.log(\"我被跟踪了\", effect)\r\n    },\r\n    onTrigger(effect) {\r\n      console.log(\"我被触发了\", effect)\r\n    }\r\n  }\r\n)\r\nwatch(count, () => {\r\n  console.log(\"count被修改了\") // v3 watch执行在计算属性之后\r\n})\r\n\r\ncount.value = 4\r\nonMounted(() => {\r\n  count.value = 8\r\n})\r\n\r\nPromise.resolve().then(() => {\r\n  console.log(\"微任务执行1\") // 他们的执行都在微任务之前\r\n})\r\n\r\nnextTick(() => {\r\n  console.log(\"tick执行3\")\r\n})\r\n\r\n// nexttick的执行时机在第一轮微任务队列后 第二轮微任务队列前\r\n\r\nconst aaa = ref(1)\r\n// 计算属性互相之间影响？？？好难啊\r\nconst aaCom = computed(() => {\r\n  console.log(\"计算属性------\")\r\n  aaa.value++\r\n  return aaa.value\r\n})\r\n</script>\r\n\r\n<template>\r\n  <p>{{ aaCom }}</p>\r\n  <p>{{ comp }}</p>\r\n  <div></div>\r\n</template>\r\n\r\n<style></style>\r\n"],"names":["count","ref","count2","nextTick","comp","computed","effect","watch","onMounted","aaa","aaCom"],"mappings":"4SACA,MAAMA,EAAQC,EAAI,CAAC,EACbC,EAASD,EAAI,CAAC,EAGpBE,EAAS,IAAM,CACb,QAAQ,IAAI,QAAQ,CACtB,CAAC,EACD,QAAQ,QAAS,EACd,KAAK,IAAM,CACV,QAAQ,IAAI,OAAO,CACvB,CAAG,EACA,KAAK,IAAM,CACV,QAAQ,IAAI,QAAQ,CACxB,CAAG,EACHA,EAAS,IAAM,CACb,QAAQ,IAAI,QAAQ,CACtB,CAAC,EAED,MAAMC,EAAOC,EACX,KACE,QAAQ,IAAI,MAAM,EAClBL,EAAM,QACCA,EAAM,MAAQE,EAAO,OAE9B,CACE,QAAQI,EAAQ,CACd,QAAQ,IAAI,QAASA,CAAM,CAC5B,EACD,UAAUA,EAAQ,CAChB,QAAQ,IAAI,QAASA,CAAM,CAC5B,CACF,CACH,EACAC,EAAMP,EAAO,IAAM,CACjB,QAAQ,IAAI,WAAW,CACzB,CAAC,EAEDA,EAAM,MAAQ,EACdQ,EAAU,IAAM,CACdR,EAAM,MAAQ,CAChB,CAAC,EAED,QAAQ,QAAO,EAAG,KAAK,IAAM,CAC3B,QAAQ,IAAI,QAAQ,CACtB,CAAC,EAEDG,EAAS,IAAM,CACb,QAAQ,IAAI,SAAS,CACvB,CAAC,EAID,MAAMM,EAAMR,EAAI,CAAC,EAEXS,EAAQL,EAAS,KACrB,QAAQ,IAAI,YAAY,EACxBI,EAAI,QACGA,EAAI,MACZ"}